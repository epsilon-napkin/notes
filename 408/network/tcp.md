
---
title: 传输控制协议 TCP
---

当运输层采⽤⾯向连接的 TCP 协议时, 尽管下⾯的⽹络是不可靠的 (只提供尽最⼤努⼒服务), 但这种逻辑通信信道就相当于⼀条全双⼯的可靠信道. 以下列出 TCP 最主要的特点: 

1. TCP 是⾯向连接的运输层协议. 
1. 每⼀条 TCP 连接只能有两个端点 (endpoint), 每⼀条 TCP 连接只能是点对点的 (⼀对⼀). 
1. TCP 提供可靠交付的服务. 通过 TCP 连接传送的数据,⽆差错、 不丢失、 不重复,并且按序到达. 
1. TCP 提供全双⼯通信. TCP 允许通信双⽅的应⽤进程在任何时候都能发送数据. TCP 连接的两端都设有发送缓存和接收缓存, ⽤来临时存放双向通信的数据. 在发送时,应⽤程序在把数据传送给 TCP 的缓存后, 就可以做⾃⼰的事, ⽽TCP 在合适的时候把数据发送出去. 在接收时, TCP 把收到的数据放⼊缓存, 上层的应⽤进程在合适的时候读取缓存中的数据.
1. ⾯向字节流. TCP 中的 “流” (stream) 指的是流⼊到进程或从进程流出的字节序列. “⾯向字节流” 的含义是: 虽然应⽤程序和 TCP 的交互是⼀次⼀个数据块 (⼤⼩不等), 但TCP 把应⽤程序交下来的数据仅仅看成是⼀连串的⽆结构的字节流. TCP 并不知道所传送的字节流的含义. 

套接字 `socket = (IP 地址: 端口号)`. 每一条 TCP 连接唯⼀地被通信两端的两个端点, 即套接字对 socket pair 所确定. 

```
TCP 连接 := { socket1, socket2 } 
         = { (IP1, port1), (IP2, port2) } 
```
