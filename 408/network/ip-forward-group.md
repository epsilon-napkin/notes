
---
title: IP 转发分组流程
---

1. 从数据报的首部提取目的主机的 IP 地址 D, 得出目的网络地址 N.
2. 若网络 N 与此路由器直接相连, 则把数据报直接交付给目的主机 D; 否则是间接交付, 执行步骤 3.
3. 若路由表中有目的地址为 D 的特定主机路由, 则把数据报传送给路由表中所指明的下一跳路由器; 否则, 执行步骤 4. 
4. 若路由表中有到达网络 N 的路由, 则把数据报传送给路由表指明的下一跳路由器; 否则, 执行步骤 5. 
5. 若路由表中有一个默认路由, 则把数据报传送给路由表中所指明的默认路由器; 否则, 执行步骤 6. 
6. 报告转发分组出错 (ICMP).
