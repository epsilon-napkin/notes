
---
title: 网络层
---

<style>
img {
  border-radius: 0.2em; 
  width: 400px;
}
hint {
  color: gray;  
}
em {
  color: rgb(201, 152, 244);
  font-style: normal;
}
</style>

在计算机⽹络领域, ⽹络层应该向运输层提供怎样的服务 (即 “⾯向连接” 还是 “⽆连接”) 曾引起了长期的争论. 
争论焦点的实质就是: 在计算机通信中, 可靠交付应当由谁来负责? 是⽹络还是端系统?

互联⽹采⽤的设计思路是这样的: *⽹络层要设计得尽量简单, 向其上层只提供简单灵活的、⽆连接的、 尽最⼤努⼒交付的数据报服务.* 
这⾥的 “数据报”(datagram) 是互联⽹的设计者最初使⽤的名词, 其实数据报 (或 IP 数据报) 就是我们经常使⽤的 “分组”. 
我们约定 IP 数据报和 IP 分组是同义词, 可以混⽤.

⽹络在发送分组时不需要先建⽴连接. 每⼀个分组 (也就是 IP 数据报) 独⽴发送, 与其前后的分组⽆关 (不进⾏编号). *⽹络层不提供服务质量的承诺.* 也就是说, 所传送的分组可能出错、 丢失、 重复和失序 (即不按序到达终点), 当然也不保证分组交付的时限. 由于 *传输⽹络不提供端到端的可靠传输服务*, 这就使⽹络中的路由器⽐较简单, 且价格低廉(与电信⽹的交换机相⽐较). 如果主机 (即端系统) 进程之间需要进⾏可靠的通信, 那么就由主机中的 [运输层](/408/network/transport-layer.md) 负责 (包括差错处理、 流量控制等). 分组交换进一步分为面向连接的 [虚电路](/408/network/virtual-circuit.md) 和无连接的 [数据报](/408/network/datagram.md). 

- [- 虚电路](/408/network/virtual-circuit.md#:embed)
- [- 数据报](/408/network/datagram.md#:embed)

| 对⽐方面 | 虚电路服务 | 数据报服务 |
| - | - | - |
| 思路 | 可靠通信应当由⽹络来保证 | 可靠通信应当由⽤户主机来保证 |
| 连接的建⽴ | 必须有 | 不需要 |
| 终点地址 | 仅在连接建⽴阶段使⽤, 每个分组使⽤短的虚电路号 | 每个分组都有终点的完整地址, 即 IP 地址 |
| 分组的转发 | 属于同⼀条虚电路的分组均按照同⼀路由进⾏转发 | 每个分组独⽴查找转发表进⾏转发 |
| 当节点出故障时 | 所有通过出故障的节点的虚电路均不能⼯作 | 出故障的节点可能会丢失分组, ⼀些路由可能会发⽣变化 |
| 分组的顺序 | 总是按发送顺序到达终点 | 到达终点的顺序不⼀定按发送的顺序 |
| 端到端的差错处理和流量控制 | 可以由⽹络负责, 也可以由⽤户主机负责 | 由⽤户主机负责 |

<br>

互联网协议套件 [Internet Protocol Suite, IPS] 是一种网络通信模型, 以及用于网络传输的协议集合, 为网际网络的基础通信架构. 被应用于各种网络通信中. 它常通称为 TCP/IP 协议族, 简称TCP/IP 因为该协议家族的两个核心协议: [传输控制协议 TCP](/408/network/tcp.md) 和 [网际协议 IP](/408/network/ip.md) 为该家族中最早通过的标准. 

[网际协议 IP](/408/network/ip.md#:embed)
