
---
title: 死锁产生的必要条件
---

产生死锁必须同时满足以下四个条件, 只要其中任一条件不成立, 死锁就不会发生. 

1. *互斥条件*: 只有对必须互斥使用的资源的争抢才会导致死锁 (如: 哲学家的筷子、打印机设备). 像内存、扬声器这样可以同时让多个进程使用的资源是不会导致死锁的 (因为进程不用阻塞等待这种资源).

1. *请求和保持条件*: 进程已经保持了至少一个资源, 但又提出了新的资源请求, 而该资源又被其他进程占有, 此时请求进程被阻塞, 但又对自己已有的资源保持不放.

1. *不剥夺条件*: 进程所获得的资源在未使用完之前, 不能由其他进程强行夺走, 只能主动释放.

1. *循环等待条件*: 存在一种进程资源的循环等待链, 链中的每一个进程已获得的资源同时被下一个进程所请求, 即成环. 

发生死锁时一定有循环等待, 但是发生循环等待时未必死锁 (循环等待是死锁的必要不充分条件). 如果同类资源数大于 1, 则即使有循环等待, 也未必发生死锁. *但如果系统中每类资源都只有一个, 那循环等待就是死锁的充分必要条件了*.
